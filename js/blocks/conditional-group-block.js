!function(){var e={184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)o.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},703:function(e,t,n){"use strict";var o=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,l){if(l!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.React,o=n.n(t),r=n(697),a=n.n(r);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}var s=(0,t.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,s=void 0===a?24:a,c=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["color","size"]);return o().createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),o().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));s.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},s.displayName="Maximize";var c=s,i=window.wp.blocks,d=window.wp.i18n;const u="ystdb",p="#4190be",y=((0,d.__)("小","ystandard-blocks"),(0,d.__)("中","ystandard-blocks"),(0,d.__)("大","ystandard-blocks"),(0,d.__)("なし","ystandard-blocks"),(0,d.__)("キラキラ","ystandard-blocks"),(0,d.__)("小","ystandard-blocks"),(0,d.__)("中","ystandard-blocks"),(0,d.__)("大","ystandard-blocks"),(0,d._x)("指定無し","component-config","ystandard-blocks"),(0,d._x)("通常(normal)","component-config","ystandard-blocks"),(0,d._x)("太字(bold)","component-config","ystandard-blocks"),(0,d._x)("100","component-config","ystandard-blocks"),(0,d._x)("200","component-config","ystandard-blocks"),(0,d._x)("300","component-config","ystandard-blocks"),(0,d._x)("400","component-config","ystandard-blocks"),(0,d._x)("500","component-config","ystandard-blocks"),(0,d._x)("600","component-config","ystandard-blocks"),(0,d._x)("700","component-config","ystandard-blocks"),(0,d._x)("800","component-config","ystandard-blocks"),(0,d._x)("900","component-config","ystandard-blocks"),(0,d._x)("指定無し","component-config","ystandard-blocks"),(0,d._x)("イタリック体","component-config","ystandard-blocks"),(0,d._x)("直線","component-config","ystandard-blocks"),(0,d._x)("点線","component-config","ystandard-blocks"),(0,d._x)("破線","component-config","ystandard-blocks"),(0,d._x)("二重線","component-config","ystandard-blocks"),(e,t)=>{const n=window.ystdtbBlockEditor&&"object"==typeof window.ystdtbBlockEditor&&window.ystdtbBlockEditor.hasOwnProperty("defaultAttributes")?window.ystdtbBlockEditor.defaultAttributes:{};if(!n)return t;if(!n.hasOwnProperty(e))return t;const o=n[e];return Object.keys(o).map((e=>(t.hasOwnProperty(e)&&(t[e].default=o[e]),o))),t});var m=n(184),b=n.n(m),f=window.wp.blockEditor,h=window.wp.components,g=t=>{let{children:n,type:o,className:r,...a}=t;const l=o||"info",s={className:b()("ystd-component-notice",r,`is-${l}`),...a};return(0,e.createElement)("div",s,n)},_=t=>{let{title:n,initialOpen:o,children:r}=t;const a=(0,e.useMemo)((()=>"function"==typeof o?o():o),[]);return(0,e.createElement)(h.PanelBody,{title:n,initialOpen:a},r)},k=t=>{let{attributes:n,setAttributes:o}=t;const{hideSp:r,hideMd:a,hideLg:l}=n;return(0,e.createElement)(_,{title:(0,d.__)("画面サイズ別非表示設定","ystandard-blocks"),initialOpen:r||a||l},(0,e.createElement)(h.BaseControl,null,(0,e.createElement)(g,{type:"help"},(0,d.__)("各デバイスの画面サイズでブロックを非表示にできます。","ystandard-blocks"))),(0,e.createElement)(h.BaseControl,null,(0,e.createElement)(h.ToggleControl,{label:(0,d.__)("スマートフォンサイズで非表示","ystandard-blocks"),checked:r,onChange:e=>{o({hideSp:e})}}),(0,e.createElement)(h.ToggleControl,{label:(0,d.__)("タブレットサイズで非表示","ystandard-blocks"),checked:a,onChange:e=>{o({hideMd:e})}}),(0,e.createElement)(h.ToggleControl,{label:(0,d.__)("PCサイズで非表示","ystandard-blocks"),checked:l,onChange:e=>{o({hideLg:e})}})))},v=t=>{let{attributes:n,setAttributes:o}=t;const{hideAMP:r,onlyAMP:a}=n,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return window.ystdb&&"object"==typeof window.ystdb&&window.ystdb.hasOwnProperty(e)?window.ystdb[e]:t}("useAmp");return(0,e.createElement)(e.Fragment,null,!!l&&(0,e.createElement)(_,{title:(0,d.__)("AMP 表示・非表示 設定","ystandard-blocks"),initialOpen:r||a},(0,e.createElement)(h.BaseControl,null,(0,e.createElement)(g,{type:"help"},(0,d.__)("AMPページでの表示・非表示設定","ystandard-blocks"))),(0,e.createElement)(h.BaseControl,null,(0,e.createElement)(h.ToggleControl,{label:(0,d.__)("AMPページで非表示","ystandard-blocks"),checked:r,onChange:e=>{o({hideAMP:e})}}),(0,e.createElement)(h.ToggleControl,{label:(0,d.__)("AMPページのみ表示","ystandard-blocks"),checked:a,onChange:e=>{o({onlyAMP:e})}}))))},w=t=>{let{children:n}=t;return(0,e.createElement)("div",{className:"ystdb__horizon-buttons"},n)};const E=[{label:(0,d.__)("表示","ystandard-blocks"),value:"only"},{label:(0,d.__)("非表示","ystandard-blocks"),value:"hide"}];var x=t=>{const{attributes:n,setAttributes:o}=t,{taxFilterType:r}=n,a=r||"only";return(0,e.createElement)(h.BaseControl,{id:"filter-type",label:(0,d.__)("表示・非表示タイプ","ystandard-blocks")},(0,e.createElement)(w,null,E.map((t=>(0,e.createElement)(h.Button,{key:t.value,isSecondary:t.value!==a,isPrimary:t.value===a,onClick:()=>{o({taxFilterType:t.value})}},(0,e.createElement)("span",null,t.label))))),(0,e.createElement)(g,{type:"help"},(0,d.__)("選択したカテゴリー・タグ・タクソノミーがついたページのみでこのブロックが表示されるか、非表示になるか選択します","ystandard-blocks")))},O=window.wp.data,C=window.wp.coreData;function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}var T=t=>{let{value:n,options:o,onChange:r,label:a,...l}=t;const s=o.find((e=>e.key===n));return(0,e.createElement)(h.CustomSelectControl,P({label:a,options:o,value:s,onChange:e=>{let{selectedItem:t}=e;r(t.key)}},l))},A=t=>{let{label:n,value:o,postType:r,onChange:a,allTaxonomies:l}=t;const{selectedPostType:s,taxonomy:c}=(0,O.useSelect)((e=>{const{getPostType:t,getTaxonomies:n}=e(C.store),o=n({per_page:-1})||[];return{selectedPostType:t(r),taxonomy:o.filter((e=>{var t;return null==e||null===(t=e.visibility)||void 0===t?void 0:t.show_ui}))}})),i=function(e){const t=[{key:"",name:(0,d.__)("--選択--","ystandard-toolbox"),style:{fontSize:"1em"}}];return e?[...t,...e]:t}([...(!0===l?(u=c,u.map((e=>null==e?void 0:e.slug))||[]):(null==s?void 0:s.taxonomies)||[]).map((e=>{const t=c.filter((t=>e===(null==t?void 0:t.slug)));return t?{key:t[0].slug,name:t[0].name,style:{fontSize:"1em"}}:{}}))]);var u;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(T,{className:"aktk-taxonomy-select",label:n,value:o,options:i,onChange:e=>{a(e)}}),1>=i.length&&(0,e.createElement)(g,{type:"help"},(0,d.__)("分類の取得・表示には時間がかかることがあります。「選択」以外の分類が表示されない場合、この案内が消えるまで少しお待ち下さい。","ystandard-blocks")))},j=t=>{let{attributes:n,setAttributes:o}=t;const{taxonomy:r}=n;return(0,e.createElement)(h.BaseControl,null,(0,e.createElement)(A,{label:(0,d.__)("分類","ystandard-blocks"),value:r,onChange:e=>{o({taxonomy:e,terms:void 0})},allTaxonomies:!0}))},B=window.lodash;function M(e){return!!Array.isArray(e)&&0===e.length}var S=t=>{let{taxonomy:n,selectedTerms:o,onChange:r}=t;const a=o||[],{availableTerms:l}=(0,O.useSelect)((e=>{const{getEntityRecords:t}=e(C.store);return{availableTerms:t("taxonomy",n,{per_page:-1})||[]||[]}})),s=(0,e.useMemo)((()=>function(e,t){if(!e)return;const n=e=>-1!==t.indexOf(e.id)||void 0!==e.children&&e.children.map(n).filter((e=>e)).length>0,o=[...e];return o.sort(((e,t)=>{const o=n(e),r=n(t);return o===r?0:o&&!r?-1:!o&&r?1:0})),o}(function(e){if(!e)return;const t=e.map((e=>({children:[],parent:null,...e}))),n=(0,B.groupBy)(t,"parent");if(n.null&&n.null.length)return t;const o=e=>e.map((e=>{const t=n[e.id];return{...e,children:t&&t.length?o(t):[]}}));return o(n[0]||[])}(l),a)),[l]),c=t=>t.map((t=>(0,e.createElement)("div",{key:t.id,className:"aktk-hierarchical-terms-list__choice"},(0,e.createElement)(h.CheckboxControl,{checked:-1!==a.indexOf(t.id),onChange:()=>{(e=>{const t=a.includes(e)?(0,B.without)(a,e):[...a,e];r(t)})(parseInt(t.id,10))},label:(0,B.unescape)(t.name)}),!!t.children.length&&(0,e.createElement)("div",{className:"aktk-hierarchical-terms-list__subchoices"},c(t.children))))),i=s;return(0,e.createElement)(e.Fragment,null,!!n&&(0,e.createElement)("div",{className:"aktk-hierarchical-terms-list",tabIndex:"0",role:"group","aria-label":"Terms"},!M(i)&&c(i),M(i)&&(0,e.createElement)(g,{type:"help"},(0,d.__)("選択できる項目がありません。","ystandard-blocks"))))};const N=(0,d.__)("カテゴリー・タグ","ystandard-blocks");var I=t=>{let{attributes:n,setAttributes:o}=t;const{taxonomy:r,terms:a}=n,{taxonomyLabel:l}=(0,O.useSelect)((e=>{var t;const{getTaxonomy:n}=e(C.store),o=n(r);return o&&o.hasOwnProperty(r)?{taxonomyLabel:(null===(t=o[r])||void 0===t?void 0:t.label)||N}:{taxonomyLabel:N}}));return(0,e.createElement)(e.Fragment,null,!!r&&(0,e.createElement)(h.BaseControl,{id:"hierarchical-term-selector",label:l},(0,e.createElement)(S,{taxonomy:r,selectedTerms:a,onChange:e=>{o({terms:e})}})))},L=t=>{const{attributes:n}=t,{taxonomy:o}=n;return(0,e.createElement)(_,{title:(0,d.__)("カテゴリー・タグ別非表示設定","ystandard-blocks"),initialOpen:!!o},(0,e.createElement)(x,t),(0,e.createElement)(j,t),(0,e.createElement)(I,t))},F=t=>(0,e.createElement)(f.InspectorControls,null,(0,e.createElement)(k,t),(0,e.createElement)(L,t),(0,e.createElement)(v,t)),R=t=>{const n=(0,f.useBlockProps)({className:b()("ystdb-conditional-group")}),o=(0,f.useInnerBlocksProps)({className:b()("ystdb-conditional-group__inner")});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(F,t),(0,e.createElement)("div",n,(0,e.createElement)("div",o)))};function z(){return(0,e.createElement)(f.InnerBlocks.Content,null)}const W={$schema:"https://raw.githubusercontent.com/WordPress/gutenberg/trunk/schemas/json/block.json",apiVersion:2,name:"ystdb/conditional-group-block",title:"条件付きグループブロック",description:"条件により表示・非表示を切り替えできるグループブロック",keywords:["cgb","条件付きグループブロック","conditional group block","グループブロック"],attributes:{hideSp:{type:"boolean",default:!1},hideMd:{type:"boolean",default:!1},hideLg:{type:"boolean",default:!1},taxFilterType:{type:"string",default:"only"},taxonomy:{type:"string"},terms:{type:"array"},hideAMP:{type:"boolean",default:!1},onlyAMP:{type:"boolean",default:!1}},supports:{className:!1,html:!1,align:!1}};!function(){const t=y(W.name,W.attributes);(0,i.registerBlockType)(W.name,{...W,icon:(0,e.createElement)(c,{stroke:p,style:{fill:"none"}}),category:u,attributes:t,edit:R,save:z,example:{}})}()}()}();