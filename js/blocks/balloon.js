(()=>{var e={184:(e,t)=>{var a;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var l=typeof a;if("string"===l||"number"===l)e.push(a);else if(Array.isArray(a)){if(a.length){var n=r.apply(null,a);n&&e.push(n)}}else if("object"===l)if(a.toString===Object.prototype.toString)for(var s in a)o.call(a,s)&&a[s]&&e.push(s);else e.push(a.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},703:(e,t,a)=>{"use strict";var o=a(414);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,a,r,l,n){if(n!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return a.PropTypes=a,a}},697:(e,t,a)=>{e.exports=a(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,o={category:{common:"ystdb",beta:"ystdb_beta",deprecated:"ystdb_deprecated"},color:{iconForeground:"#4190be",iconDeprecatedForeground:"#be4141"},button:{newTabRel:"noreferrer noopener",borderRadiusMin:0,borderRadiusMax:50,borderRadiusInitialPosition:4,paddingTypes:[{value:"is-small",label:(0,t.__)("小","ystandard-blocks")},{value:"",label:(0,t.__)("中","ystandard-blocks")},{value:"is-large",label:(0,t.__)("大","ystandard-blocks")}],animationTypes:[{label:(0,t.__)("なし","ystandard-blocks"),value:"none"},{label:(0,t.__)("キラキラ","ystandard-blocks"),value:"shine"}]},icon:{size:[{value:"is-small",label:(0,t.__)("小","ystandard-blocks")},{value:"",label:(0,t.__)("中","ystandard-blocks")},{value:"is-large",label:(0,t.__)("大","ystandard-blocks")}]},component:{defaultAvatar:{url:"https://www.gravatar.com/avatar/000000000000000000000000000000?s=128&r=g&d=mp"},fontWeight:[{value:"",label:(0,t._x)("指定無し","component-config","ystandard-blocks")},{value:"normal",label:(0,t._x)("通常(normal)","component-config","ystandard-blocks")},{value:"bold",label:(0,t._x)("太字(bold)","component-config","ystandard-blocks")},{value:"100",label:(0,t._x)("100","component-config","ystandard-blocks")},{value:"200",label:(0,t._x)("200","component-config","ystandard-blocks")},{value:"300",label:(0,t._x)("300","component-config","ystandard-blocks")},{value:"400",label:(0,t._x)("400","component-config","ystandard-blocks")},{value:"500",label:(0,t._x)("500","component-config","ystandard-blocks")},{value:"600",label:(0,t._x)("600","component-config","ystandard-blocks")},{value:"700",label:(0,t._x)("700","component-config","ystandard-blocks")},{value:"800",label:(0,t._x)("800","component-config","ystandard-blocks")},{value:"900",label:(0,t._x)("900","component-config","ystandard-blocks")}],fontUnit:[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"},{value:"%",label:"%"}],fontStyle:[{value:"",label:(0,t._x)("指定無し","component-config","ystandard-blocks")},{value:"italic",label:(0,t._x)("イタリック体","component-config","ystandard-blocks")}],borderStyles:[{value:"solid",label:(0,t._x)("直線","component-config","ystandard-blocks")},{value:"dotted",label:(0,t._x)("点線","component-config","ystandard-blocks")},{value:"dashed",label:(0,t._x)("破線","component-config","ystandard-blocks")},{value:"double",label:(0,t._x)("二重線","component-config","ystandard-blocks")}]}};var r=a(184),l=a.n(r);const n=window.wp.components,s=e=>o.component[e],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return window.ystdb&&"object"==typeof window.ystdb&&window.ystdb.hasOwnProperty(e)?window.ystdb[e]:t},c={avatarName:{type:"string",source:"html",selector:".ystdb-balloon__name"},avatarNameColor:{type:"string"},customAvatarNameColor:{type:"string"},avatarURL:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"src",default:s("defaultAvatar").url},avatarAlt:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"alt"},avatarID:{type:"integer",default:0},avatarSize:{type:"string",default:"large"},avatarBorderColor:{type:"string"},customAvatarBorderColor:{type:"string"},avatarBorderWidth:{type:"integer",default:0},avatarBorderRadius:{type:"integer"},text:{type:"string",source:"html",selector:".ystdb-balloon__text"},balloonPosition:{type:"string",default:"right"},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},balloonBorderColor:{type:"string"},customBalloonBorderColor:{type:"string"},balloonBorderWidth:{type:"integer",default:1},textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"string"},balloonType:{type:"string",default:"serif"},verticalAlign:{type:"string",default:"top"}},d=[{label:(0,t.__)("会話","ystandard-blocks"),value:"serif"},{label:(0,t.__)("会話(枠線)","ystandard-blocks"),value:"serif-border"},{label:(0,t.__)("考え中","ystandard-blocks"),value:"think"}],b=[{label:(0,t.__)("右","ystandard-blocks"),value:"right"},{label:(0,t.__)("左","ystandard-blocks"),value:"left"}],m=[{label:(0,t.__)("小","ystandard-blocks"),value:"small"},{label:(0,t.__)("大","ystandard-blocks"),value:"large"}],u=(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,e.createElement)(n.Path,{d:"M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z"})),v=(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,e.createElement)(n.Path,{d:"M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z"})),y={top:{icon:(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,e.createElement)(n.Path,{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"})),title:(0,t._x)("上揃え","ystandard-blocks")},center:{icon:v,title:(0,t._x)("中央揃え","ystandard-blocks")},bottom:{icon:u,title:(0,t._x)("下揃え","ystandard-blocks")}},g=window.wp.blockEditor,p=window.wp.data,_=window.wp.compose,C=window.React;var h=a.n(C),f=a(697),k=a.n(f);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},x.apply(this,arguments)}var E=(0,C.forwardRef)((function(e,t){var a=e.color,o=void 0===a?"currentColor":a,r=e.size,l=void 0===r?24:r,n=function(e,t){if(null==e)return{};var a,o,r=function(e,t){if(null==e)return{};var a,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["color","size"]);return h().createElement("svg",x({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),h().createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),h().createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))}));E.propTypes={color:k().string,size:k().oneOfType([k().string,k().number])},E.displayName="Book";const B=E,N=t=>{const{url:a,target:o,text:r,topRight:n}=t,s=r||"マニュアルを見る",i=o||"_blank";return(0,e.createElement)("div",{className:l()("ystdb-component-manual-link",{"is-top-right":n})},(0,e.createElement)("a",{href:a,target:i},(0,e.createElement)("span",{className:"ystdb-component-manual-link__icon"},(0,e.createElement)(B,{size:12})),(0,e.createElement)("span",{className:"ystdb-component-manual-link__text"},s)))},w=t=>{let{children:a}=t;return(0,e.createElement)("div",{className:"ystdb__horizon-buttons"},a)},z=(0,_.compose)([(0,g.withColors)("backgroundColor",{textColor:"color",avatarNameColor:"color",avatarBorderColor:"borderColor",balloonBorderColor:"borderColor"}),(0,g.withFontSizes)("fontSize")])((function(a){const{textColor:o,backgroundColor:r,balloonBorderColor:c,avatarNameColor:u,avatarBorderColor:v,setTextColor:_,setBackgroundColor:C,setBalloonBorderColor:h,setAvatarNameColor:f,setAvatarBorderColor:k,attributes:x,setAttributes:E,fontSize:B,setFontSize:z,className:S,isSelected:P}=a,{avatarName:A,avatarURL:R,avatarAlt:O,avatarID:T,avatarSize:$,avatarBorderWidth:W,avatarBorderRadius:j,text:F,balloonBorderWidth:M,balloonPosition:I,balloonType:L,verticalAlign:U}=x,H=["top","center","bottom"],V=s("defaultAvatar").url,D=i("balloonImages",[]),G=i("balloonOption",{}),q="serif-border"===L,Y=y[U],J=y.top,{colors:K}=(0,p.select)("core/block-editor").getSettings(),Q=l()(S,"ystdb-balloon",{[`is-vertically-aligned-${U}`]:U,[`is-balloon-position-${I}`]:I}),X=l()("ystdb-balloon__avatar",{[`is-size-${$}`]:$}),Z=l()("ystdb-balloon__name",{"has-text-color":u.color,[u.class]:u.class}),ee={color:u.color},te=l()("ystdb-balloon__avatar-image",{"has-border-color":v.color,[v.class]:v.class,"has-border":0<W}),ae={borderColor:v.color,borderWidth:0<W?W:void 0,borderRadius:j},oe=l()("ystdb-balloon__body",{[r.class]:r.class,"has-background":r.color,[c.class]:c.class,"has-border-color":c.color,[`is-${U}`]:U,[`is-${I}`]:I,[`is-${L}`]:L}),re={backgroundColor:r.color,borderColor:c.color,borderWidth:q?M:void 0},le=l()("ystdb-ystdb-balloon__text",{[o.class]:o.class,"has-text-color":o.color,[B.class]:B.class}),ne={color:o.color,fontSize:B.size?B.size:void 0},se=l()("ystdb-balloon__serif-triangle",{[r.class]:r.class,"has-background":r.color,[c.class]:c.class,"has-border-color":c.color}),ie=6-M,ce={backgroundColor:r.color,borderColor:c.color,borderWidth:M,right:"right"===I?`calc(100% - ${ie}px)`:void 0,left:"left"===I?`calc(100% - ${ie}px)`:void 0};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(g.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarItem,{label:(0,t._x)("縦位置の変更","ystandard-blocks")},(t=>(0,e.createElement)(n.DropdownMenu,{toggleProps:t,isCollapsed:!0,icon:Y?Y.icon:J.icon,controls:H.map((e=>({...y[e],isActive:U===e,onClick:()=>E({verticalAlign:U===e?void 0:e})})))}))))),(0,e.createElement)(g.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,t.__)("吹き出し設定","ystandard-blocks")},(0,e.createElement)(n.BaseControl,{id:"balloon-position",label:(0,t.__)("吹き出しの向き","ystandard-blocks")},(0,e.createElement)(w,null,b.map((t=>(0,e.createElement)(n.Button,{key:t.value,isSecondary:I!==t.value,isPrimary:I===t.value,onClick:()=>{E({balloonPosition:t.value})}},t.label))))),(0,e.createElement)(n.BaseControl,{id:"balloon-type",label:(0,t.__)("吹き出しタイプ","ystandard-blocks")},(0,e.createElement)(w,null,d.map((t=>(0,e.createElement)(n.Button,{key:t.value,isSecondary:L!==t.value,isPrimary:L===t.value,onClick:()=>{"serif-border"===t.value&&"serif-border"!==L&&C(G.contentBackground),"serif-border"!==t.value&&h(r.color),E({balloonType:t.value})}},t.label)))))),(0,e.createElement)(n.PanelBody,{title:(0,t.__)("登録済みアバター画像","ystandard-blocks")},(0,e.createElement)(n.BaseControl,null,0>=D.length?(0,e.createElement)("div",null,(0,e.createElement)("p",null,"登録済みのアバター画像はありません。"),(0,e.createElement)("p",null,"「yStandard Blocks」設定画面の「吹き出し登録」からよく使うアバター画像を登録できます。"),(0,e.createElement)(N,{url:"https://wp-ystandard.com/manual/ystdb-balloon-avatar-setting/"})):(0,e.createElement)("div",{className:"ystdb-avatar-list"},D.map((t=>(0,e.createElement)(n.Button,{key:t.id,isPrimary:T===t.id&&A===t.name,onClick:()=>{E({avatarID:t.id,avatarName:t.name,avatarURL:t.url,avatarAlt:t.name})}},(0,e.createElement)("span",null,(0,e.createElement)("img",{className:"ystdb-avatar-list__image",src:t.url,alt:t.name}),!!t.name&&(0,e.createElement)("span",{className:"ystdb-avatar-list__name"},t.name)))))))),(0,e.createElement)(n.PanelBody,{title:(0,t.__)("アバター設定","ystandard-blocks")},(0,e.createElement)(n.BaseControl,{id:"avatar-size",label:(0,t.__)("アバターサイズ","ystandard-blocks")},(0,e.createElement)(w,null,m.map((t=>(0,e.createElement)(n.Button,{key:t.value,isSecondary:$!==t.value,isPrimary:$===t.value,onClick:()=>{E({avatarSize:t.value})}},(0,e.createElement)("span",null,t.label)))))),(0,e.createElement)(n.BaseControl,null,(0,e.createElement)(n.RangeControl,{value:j,label:(0,t.__)("アバター画像の角丸","ystandard-blocks"),min:0,max:100,initialPosition:40,allowReset:!0,onChange:e=>{E({avatarBorderRadius:e})}})),(0,e.createElement)(n.BaseControl,null,(0,e.createElement)(n.RangeControl,{value:W,label:(0,t.__)("アバター画像の枠線太さ","ystandard-blocks"),min:0,max:10,initialPosition:0,allowReset:!0,onChange:e=>{E({avatarBorderWidth:e})}})),(0,e.createElement)(n.BaseControl,{id:"avatar-border-color",label:(0,t.__)("アバター画像枠色","ystandard-blocks")},(0,e.createElement)(n.ColorPalette,{colors:K,disableCustomColors:!1,onChange:e=>{k(e)},value:v.color})),(0,e.createElement)(n.BaseControl,{id:"avatar-text-color",label:(0,t.__)("アバター名文字色","ystandard-blocks")},(0,e.createElement)(n.ColorPalette,{colors:K,disableCustomColors:!1,onChange:e=>{f(e)},value:u.color}))),(0,e.createElement)(n.PanelBody,{title:(0,t.__)("吹き出し設定","ystandard-blocks")},(0,e.createElement)(n.BaseControl,null,(0,e.createElement)(g.FontSizePicker,{label:(0,t.__)("文字サイズ","ystandard-blocks"),value:B.size,onChange:e=>{z(e)}})),(0,e.createElement)(n.BaseControl,{id:"balloon-background",label:(0,t.__)("吹き出し背景色","ystandard-blocks")},(0,e.createElement)(n.ColorPalette,{colors:K,disableCustomColors:!1,onChange:e=>{C(e),q||h(e)},value:r.color})),(0,e.createElement)(n.BaseControl,{id:"balloon-text-color",label:(0,t.__)("吹き出し文字色","ystandard-blocks")},(0,e.createElement)(n.ColorPalette,{colors:K,disableCustomColors:!1,onChange:e=>{_(e)},value:o.color}),(0,e.createElement)(g.ContrastChecker,{backgroundColor:r.color,textColor:o.color})),q&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.BaseControl,{id:"serif-border-color",label:(0,t.__)("吹き出し枠線色","ystandard-blocks")},(0,e.createElement)(n.ColorPalette,{colors:K,disableCustomColors:!1,onChange:e=>{h(e)},value:c.color})),(0,e.createElement)(n.BaseControl,null,(0,e.createElement)(n.RangeControl,{value:M,label:(0,t.__)("吹き出し枠線太さ","ystandard-blocks"),min:1,max:4,initialPosition:1,allowReset:!0,onChange:e=>{E({balloonBorderWidth:e})}}))))),(0,e.createElement)("div",{className:Q},(0,e.createElement)("figure",{className:X},(0,e.createElement)(g.MediaUpload,{onSelect:e=>{E({avatarURL:e.url,avatarID:e.id,avatarAlt:e.alt})},type:["image"],value:T,render:t=>R&&V!==R?(0,e.createElement)("div",{className:te,style:ae},(0,e.createElement)(n.Button,{onClick:()=>{E({avatarID:0,avatarURL:"",avatarAlt:""})},className:"ystdb-mediaupload__preview is-show-text",style:{padding:0}},(0,e.createElement)("img",{src:R,alt:O}))):(0,e.createElement)("div",{className:te,style:ae},(0,e.createElement)(n.Button,{onClick:t.open,className:"ystdb-mediaupload__preview is-no-image"},(0,e.createElement)("img",{src:V,alt:""})))}),(P||A)&&(0,e.createElement)("figcaption",{className:Z},(0,e.createElement)(n.TextControl,{value:A,className:"ystdb-balloon__name--edit",onChange:e=>{E({avatarName:e})},style:ee,placeholder:"名前...","aria-label":(0,t.__)("Name")}))),(0,e.createElement)("div",{className:oe,style:re},(0,e.createElement)(g.RichText,{tagName:"p",placeholder:(0,t.__)("Add text…"),value:F,onChange:e=>E({text:e}),className:le,style:ne}),q&&(0,e.createElement)("div",{className:se,style:ce,"aria-hidden":!0}))))}));function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},S.apply(this,arguments)}var P=(0,C.forwardRef)((function(e,t){var a=e.color,o=void 0===a?"currentColor":a,r=e.size,l=void 0===r?24:r,n=function(e,t){if(null==e)return{};var a,o,r=function(e,t){if(null==e)return{};var a,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["color","size"]);return h().createElement("svg",S({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),h().createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));P.propTypes={color:k().string,size:k().oneOfType([k().string,k().number])},P.displayName="MessageSquare";const A=P,R=[{attributes:{avatarName:{type:"string",source:"html",selector:".ystdb-balloon__name"},avatarNameColor:{type:"string"},customAvatarNameColor:{type:"string"},avatarURL:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"src",default:s("defaultAvatar").url},avatarAlt:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"alt"},avatarID:{type:"integer",default:0},avatarSize:{type:"string",default:"large"},avatarBorderColor:{type:"string"},customAvatarBorderColor:{type:"string"},avatarBorderWidth:{type:"integer",default:0},avatarBorderRadius:{type:"integer"},text:{type:"string",source:"html",selector:".ystdb-balloon__text"},balloonPosition:{type:"string",default:"right"},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},balloonBorderColor:{type:"string"},customBalloonBorderColor:{type:"string"},textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"number"},balloonType:{type:"string",default:"serif"},verticalAlign:{type:"string",default:"top"}},supports:{align:!1,className:!1},migrate(e){let t=e.customFontSize;return"number"==typeof t&&(t=t.toString().replace("px","")+"px"),{...e,customFontSize:t}},save(t){let{attributes:a}=t;const{className:o,textColor:r,customTextColor:n,backgroundColor:s,customBackgroundColor:i,balloonBorderColor:c,customBalloonBorderColor:d,avatarNameColor:b,customAvatarNameColor:m,avatarBorderColor:u,customAvatarBorderColor:v,fontSize:y,customFontSize:p,avatarName:_,avatarURL:C,avatarAlt:h,avatarSize:f,avatarBorderWidth:k,avatarBorderRadius:x,text:E,balloonPosition:B,balloonType:N,verticalAlign:w}=a,z=(0,g.getColorClassName)("color",b),S=(0,g.getColorClassName)("border-color",u),P=(0,g.getColorClassName)("color",r),A=(0,g.getFontSizeClass)(y),R=(0,g.getColorClassName)("background-color",s),O=(0,g.getColorClassName)("border-color",c),T=l()(o,"ystdb-balloon",{[`is-vertically-aligned-${w}`]:w,[`is-balloon-position-${B}`]:B}),$=l()("ystdb-balloon__avatar",{[`is-size-${f}`]:f}),W=l()("ystdb-balloon__avatar-image",{"has-border-color":S||v,[S]:S,"has-border":0<k}),j={borderColor:v,borderWidth:0<k?k:void 0,borderRadius:x},F=h||_,M=l()("ystdb-balloon__name",{[z]:z,"has-text-color":m||z}),I={color:m},L=l()("ystdb-balloon__body",{[R]:R,"has-background":R||i,[O]:O,"has-border-color":O||d,[`is-${w}`]:w,[`is-${B}`]:B,[`is-${N}`]:N}),U={backgroundColor:i,borderColor:d},H=l()("ystdb-balloon__text",{[P]:P,"has-text-color":r||n,[A]:A}),V={color:P?void 0:n,fontSize:!A&&p?p+"px":void 0};return(0,e.createElement)("div",{className:T},(0,e.createElement)("figure",{className:$},(0,e.createElement)("img",{className:W,style:j,src:C,alt:F}),_&&(0,e.createElement)("figcaption",{className:M,style:I},_)),(0,e.createElement)("div",{className:L,style:U},(0,e.createElement)(g.RichText.Content,{tagName:"p",className:H,style:V,value:E})))}}],O=[{attributes:{avatarName:{type:"string",source:"html",selector:".ystdb-balloon__name"},avatarNameColor:{type:"string"},customAvatarNameColor:{type:"string"},avatarURL:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"src",default:s("defaultAvatar").url},avatarAlt:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"alt"},avatarID:{type:"integer",default:0},avatarSize:{type:"string",default:"large"},avatarBorderColor:{type:"string"},customAvatarBorderColor:{type:"string"},avatarBorderWidth:{type:"integer",default:0},avatarBorderRadius:{type:"integer"},text:{type:"string",source:"html",selector:".ystdb-balloon__text"},balloonPosition:{type:"string",default:"right"},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},balloonBorderColor:{type:"string"},customBalloonBorderColor:{type:"string"},textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"string"},balloonType:{type:"string",default:"serif"},verticalAlign:{type:"string",default:"top"}},supports:{align:!1,className:!1},migrate(e){let t=e.customFontSize;return"number"==typeof t&&(t=t.toString().replace("px","")+"px"),{...e,customFontSize:t}},save(t){let{attributes:a}=t;const{className:o,textColor:r,customTextColor:n,backgroundColor:s,customBackgroundColor:i,balloonBorderColor:c,customBalloonBorderColor:d,avatarNameColor:b,customAvatarNameColor:m,avatarBorderColor:u,customAvatarBorderColor:v,fontSize:y,customFontSize:p,avatarName:_,avatarURL:C,avatarAlt:h,avatarSize:f,avatarBorderWidth:k,avatarBorderRadius:x,text:E,balloonPosition:B,balloonType:N,verticalAlign:w}=a,z=(0,g.getColorClassName)("color",b),S=(0,g.getColorClassName)("border-color",u),P=(0,g.getColorClassName)("color",r),A=(0,g.getFontSizeClass)(y),R=(0,g.getColorClassName)("background-color",s),O=(0,g.getColorClassName)("border-color",c),T=l()(o,"ystdb-balloon",{[`is-vertically-aligned-${w}`]:w,[`is-balloon-position-${B}`]:B}),$=l()("ystdb-balloon__avatar",{[`is-size-${f}`]:f}),W=l()("ystdb-balloon__avatar-image",{"has-border-color":S||v,[S]:S,"has-border":0<k}),j={borderColor:v,borderWidth:0<k?k:void 0,borderRadius:x},F=h||_,M=l()("ystdb-balloon__name",{[z]:z,"has-text-color":m||z}),I={color:m},L=l()("ystdb-balloon__body",{[R]:R,"has-background":R||i,[O]:O,"has-border-color":O||d,[`is-${w}`]:w,[`is-${B}`]:B,[`is-${N}`]:N}),U={backgroundColor:i,borderColor:d},H=l()("ystdb-balloon__text",{[P]:P,"has-text-color":r||n,[A]:A}),V={color:P?void 0:n,fontSize:!A&&p?p:void 0};return(0,e.createElement)("div",{className:T},(0,e.createElement)("figure",{className:$},(0,e.createElement)("img",{className:W,style:j,src:C,alt:F}),_&&(0,e.createElement)("figcaption",{className:M,style:I},_)),(0,e.createElement)("div",{className:L,style:U},(0,e.createElement)(g.RichText.Content,{tagName:"p",className:H,style:V,value:E})))}}],T=[...R,...O];(0,window.wp.blocks.registerBlockType)("ystdb/balloon",{title:(0,t.__)("吹き出し","ystandard-blocks"),description:(0,t.__)("吹き出しブロック","ystandard-blocks"),icon:(0,e.createElement)(A,{stroke:o.color.iconForeground,style:{fill:"none"}}),keywords:[(0,t.__)("balloon"),(0,t.__)("吹き出し"),"balloon"],category:o.category.common,attributes:c,supports:{align:!1,className:!1},edit:z,save:function(t){let{attributes:a}=t;const{className:o,textColor:r,customTextColor:n,backgroundColor:s,customBackgroundColor:i,balloonBorderColor:c,customBalloonBorderColor:d,balloonBorderWidth:b,avatarNameColor:m,customAvatarNameColor:u,avatarBorderColor:v,customAvatarBorderColor:y,fontSize:p,customFontSize:_,avatarName:C,avatarURL:h,avatarAlt:f,avatarSize:k,avatarBorderWidth:x,avatarBorderRadius:E,text:B,balloonPosition:N,balloonType:w,verticalAlign:z}=a,S=(0,g.getColorClassName)("color",m),P=(0,g.getColorClassName)("border-color",v),A=(0,g.getColorClassName)("color",r),R=(0,g.getFontSizeClass)(p),O=(0,g.getColorClassName)("background-color",s),T=(0,g.getColorClassName)("border-color",c),$="serif-border"===w,W=l()(o,"ystdb-balloon",{[`is-vertically-aligned-${z}`]:z,[`is-balloon-position-${N}`]:N}),j=l()("ystdb-balloon__avatar",{[`is-size-${k}`]:k}),F=l()("ystdb-balloon__avatar-image",{"has-border-color":P||y,[P]:P,"has-border":0<x}),M={borderColor:y,borderWidth:0<x?x:void 0,borderRadius:E},I=f||C,L=l()("ystdb-balloon__name",{[S]:S,"has-text-color":u||S}),U={color:u},H=l()("ystdb-balloon__body",{[O]:O,"has-background":O||i,[T]:T,"has-border-color":T||d,[`is-${z}`]:z,[`is-${N}`]:N,[`is-${w}`]:w}),V={backgroundColor:i,borderColor:d,borderWidth:$?b:void 0},D=l()("ystdb-balloon__text",{[A]:A,"has-text-color":r||n,[R]:R}),G={color:A?void 0:n,fontSize:!R&&_?_:void 0},q=l()("ystdb-balloon__serif-triangle",{[O]:O,"has-background":O||i,[T]:T,"has-border-color":T||d}),Y=6-b,J={backgroundColor:i,borderColor:d,borderWidth:b,right:"right"===N?`calc(100% - ${Y}px)`:void 0,left:"left"===N?`calc(100% - ${Y}px)`:void 0};return(0,e.createElement)("div",{className:W},(0,e.createElement)("figure",{className:j},(0,e.createElement)("img",{className:F,style:M,src:h,alt:I}),C&&(0,e.createElement)("figcaption",{className:L,style:U},C)),(0,e.createElement)("div",{className:H,style:V},(0,e.createElement)(g.RichText.Content,{tagName:"p",className:D,style:G,value:B}),$&&(0,e.createElement)("div",{className:q,style:J,"aria-hidden":!0})))},deprecated:T,example:{}})})()})();